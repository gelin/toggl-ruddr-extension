var jt=Object.defineProperty;var Bt=(e,t,n)=>t in e?jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ge=(e,t,n)=>Bt(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();const Vt="5";var ze;typeof window<"u"&&((ze=window.__svelte??(window.__svelte={})).v??(ze.v=new Set)).add(Vt);const Ut=1,Wt=2,$t=16,Ht=2,x=Symbol(),Le=!1;var ce=Array.isArray,Kt=Array.prototype.indexOf,xe=Array.from,Yt=Object.defineProperty,J=Object.getOwnPropertyDescriptor,Gt=Object.prototype,zt=Array.prototype,Xt=Object.getPrototypeOf,Me=Object.isExtensible;const F=2,Xe=4,ve=8,Ae=16,j=32,z=64,Se=128,C=256,ae=512,I=1024,M=2048,K=4096,L=8192,Ce=16384,Ze=32768,Je=65536,je=1<<17,Zt=1<<18,Qe=1<<19,be=1<<20,Q=Symbol("$state"),et=new class extends Error{constructor(){super(...arguments);ge(this,"name","StaleReactionError");ge(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function tt(e){return e===this.v}function Jt(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function nt(e){return!Jt(e,this.v)}function Qt(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function en(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function tn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function nn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function rn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ln(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function an(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let on=!1;function un(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let N=null;function Be(e){N=e}function rt(e,t=!1,n){var r=N={p:N,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};gt(()=>{r.d=!0})}function lt(e){const t=N;if(t!==null){const c=t.e;if(c!==null){var n=p,r=h;t.e=null;try{for(var l=0;l<c.length;l++){var i=c[l];$(i.effect),R(i.reaction),Oe(i.fn)}}finally{$(n),R(r)}}N=t.p,t.m=!0}return{}}function it(){return!0}function G(e){if(typeof e!="object"||e===null||Q in e)return e;const t=Xt(e);if(t!==Gt&&t!==zt)return e;var n=new Map,r=ce(e),l=S(0),i=h,c=v=>{var o=h;R(i);var u=v();return R(o),u};return r&&n.set("length",S(e.length)),new Proxy(e,{defineProperty(v,o,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&rn();var s=n.get(o);return s===void 0?s=c(()=>{var f=S(u.value);return n.set(o,f),f}):m(s,u.value,!0),!0},deleteProperty(v,o){var u=n.get(o);if(u===void 0){if(o in v){const a=c(()=>S(x));n.set(o,a),we(l)}}else{if(r&&typeof o=="string"){var s=n.get("length"),f=Number(o);Number.isInteger(f)&&f<s.v&&m(s,f)}m(u,x),we(l)}return!0},get(v,o,u){var _;if(o===Q)return e;var s=n.get(o),f=o in v;if(s===void 0&&(!f||(_=J(v,o))!=null&&_.writable)&&(s=c(()=>{var d=G(f?v[o]:x),y=S(d);return y}),n.set(o,s)),s!==void 0){var a=w(s);return a===x?void 0:a}return Reflect.get(v,o,u)},getOwnPropertyDescriptor(v,o){var u=Reflect.getOwnPropertyDescriptor(v,o);if(u&&"value"in u){var s=n.get(o);s&&(u.value=w(s))}else if(u===void 0){var f=n.get(o),a=f==null?void 0:f.v;if(f!==void 0&&a!==x)return{enumerable:!0,configurable:!0,value:a,writable:!0}}return u},has(v,o){var a;if(o===Q)return!0;var u=n.get(o),s=u!==void 0&&u.v!==x||Reflect.has(v,o);if(u!==void 0||p!==null&&(!s||(a=J(v,o))!=null&&a.writable)){u===void 0&&(u=c(()=>{var _=s?G(v[o]):x,d=S(_);return d}),n.set(o,u));var f=w(u);if(f===x)return!1}return s},set(v,o,u,s){var q;var f=n.get(o),a=o in v;if(r&&o==="length")for(var _=u;_<f.v;_+=1){var d=n.get(_+"");d!==void 0?m(d,x):_ in v&&(d=c(()=>S(x)),n.set(_+"",d))}if(f===void 0)(!a||(q=J(v,o))!=null&&q.writable)&&(f=c(()=>S(void 0)),m(f,G(u)),n.set(o,f));else{a=f.v!==x;var y=c(()=>G(u));m(f,y)}var T=Reflect.getOwnPropertyDescriptor(v,o);if(T!=null&&T.set&&T.set.call(s,u),!a){if(r&&typeof o=="string"){var g=n.get("length"),b=Number(o);Number.isInteger(b)&&b>=g.v&&m(g,b+1)}we(l)}return!0},ownKeys(v){w(l);var o=Reflect.ownKeys(v).filter(f=>{var a=n.get(f);return a===void 0||a.v!==x});for(var[u,s]of n)s.v!==x&&!(u in v)&&o.push(u);return o},setPrototypeOf(){ln()}})}function we(e,t=1){m(e,e.v+t)}function Ve(e){try{if(e!==null&&typeof e=="object"&&Q in e)return e[Q]}catch{}return e}function sn(e,t){return Object.is(Ve(e),Ve(t))}function at(e){var t=F|M,n=h!==null&&(h.f&F)!==0?h:null;return p===null||n!==null&&(n.f&C)!==0?t|=C:p.f|=Qe,{ctx:N,deps:null,effects:null,equals:tt,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??p,ac:null}}function fn(e){const t=at(e);return t.equals=nt,t}function ot(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)W(t[n])}}function cn(e){for(var t=e.parent;t!==null;){if((t.f&F)===0)return t;t=t.parent}return null}function ut(e){var t,n=p;$(cn(e));try{ot(e),t=Ot(e)}finally{$(n)}return t}function st(e){var t=ut(e);if(e.equals(t)||(e.v=t,e.wv=Ct()),!Z){var n=(U||(e.f&C)!==0)&&e.deps!==null?K:I;D(e,n)}}const te=new Map;function oe(e,t){var n={f:0,v:e,reactions:null,equals:tt,rv:0,wv:0};return n}function S(e,t){const n=oe(e);return xn(n),n}function vn(e,t=!1,n=!0){const r=oe(e);return t||(r.equals=nt),r}function m(e,t,n=!1){h!==null&&(!P||(h.f&je)!==0)&&it()&&(h.f&(F|Ae|je))!==0&&!(E!=null&&E[1].includes(e)&&E[0]===h)&&an();let r=n?G(t):t;return ft(e,r)}function ft(e,t){if(!e.equals(t)){var n=e.v;Z?te.set(e,t):te.set(e,n),e.v=t,(e.f&F)!==0&&((e.f&M)!==0&&ut(e),D(e,(e.f&C)===0?I:K)),e.wv=Ct(),ct(e,M),p!==null&&(p.f&I)!==0&&(p.f&(j|z))===0&&(O===null?An([e]):O.push(e))}return t}function ct(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,l=0;l<r;l++){var i=n[l],c=i.f;(c&M)===0&&(D(i,t),(c&(I|C))!==0&&((c&F)!==0?ct(i,K):Re(i)))}}function _n(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let dn=!1;var Ue,vt,_t,dt;function hn(){if(Ue===void 0){Ue=window,vt=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;_t=J(t,"firstChild").get,dt=J(t,"nextSibling").get,Me(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Me(n)&&(n.__t=void 0)}}function ht(e=""){return document.createTextNode(e)}function pt(e){return _t.call(e)}function Ne(e){return dt.call(e)}function me(e,t){return pt(e)}function re(e,t=1,n=!1){let r=e;for(;t--;)r=Ne(r);return r}function pn(e){e.textContent=""}function gn(e){p===null&&h===null&&tn(),h!==null&&(h.f&C)!==0&&p===null&&en(),Z&&Qt()}function wn(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function X(e,t,n,r=!0){var l=p,i={ctx:N,deps:null,nodes_start:null,nodes_end:null,f:e|M,first:null,fn:t,last:null,next:null,parent:l,b:l&&l.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Pe(i),i.f|=Ze}catch(o){throw W(i),o}else t!==null&&Re(i);var c=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(Qe|Se))===0;if(!c&&r&&(l!==null&&wn(i,l),h!==null&&(h.f&F)!==0)){var v=h;(v.effects??(v.effects=[])).push(i)}return i}function gt(e){const t=X(ve,null,!1);return D(t,I),t.teardown=e,t}function mn(e){gn();var t=p!==null&&(p.f&j)!==0&&N!==null&&!N.m;if(t){var n=N;(n.e??(n.e=[])).push({fn:e,effect:p,reaction:h})}else{var r=Oe(e);return r}}function yn(e){const t=X(z,e,!0);return(n={})=>new Promise(r=>{n.outro?bt(t,()=>{W(t),r(void 0)}):(W(t),r(void 0))})}function Oe(e){return X(Xe,e,!1)}function En(e){return X(ve,e,!0)}function We(e,t=[],n=at){const r=t.map(n);return wt(()=>e(...r.map(w)))}function wt(e,t=0){var n=X(ve|Ae|t,e,!0);return n}function Fe(e,t=!0){return X(ve|j,e,!0,t)}function mt(e){var t=e.teardown;if(t!==null){const n=Z,r=h;$e(!0),R(null);try{t.call(null)}finally{$e(n),R(r)}}}function yt(e,t=!1){var l;var n=e.first;for(e.first=e.last=null;n!==null;){(l=n.ac)==null||l.abort(et);var r=n.next;(n.f&z)!==0?n.parent=null:W(n,t),n=r}}function bn(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&j)===0&&W(t),t=n}}function W(e,t=!0){var n=!1;(t||(e.f&Zt)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(kn(e.nodes_start,e.nodes_end),n=!0),yt(e,t&&!n),fe(e,0),D(e,Ce);var r=e.transitions;if(r!==null)for(const i of r)i.stop();mt(e);var l=e.parent;l!==null&&l.first!==null&&Et(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function kn(e,t){for(;e!==null;){var n=e===t?null:Ne(e);e.remove(),e=n}}function Et(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function bt(e,t){var n=[];Ie(e,n,!0),kt(n,()=>{W(e),t&&t()})}function kt(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var l of e)l.out(r)}else t()}function Ie(e,t,n){if((e.f&L)===0){if(e.f^=L,e.transitions!==null)for(const c of e.transitions)(c.is_global||n)&&t.push(c);for(var r=e.first;r!==null;){var l=r.next,i=(r.f&Je)!==0||(r.f&j)!==0;Ie(r,t,i?n:!1),r=l}}}function Tt(e){xt(e,!0)}function xt(e,t){if((e.f&L)!==0){e.f^=L;for(var n=e.first;n!==null;){var r=n.next,l=(n.f&Je)!==0||(n.f&j)!==0;xt(n,l?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}function Tn(e){var t=p;if((t.f&Ze)===0){if((t.f&Se)===0)throw e;t.fn(e)}else At(e,t)}function At(e,t){for(;t!==null;){if((t.f&Se)!==0)try{t.b.error(e);return}catch{}t=t.parent}throw e}let ke=!1,ue=null,H=!1,Z=!1;function $e(e){Z=e}let ie=[];let h=null,P=!1;function R(e){h=e}let p=null;function $(e){p=e}let E=null;function xn(e){h!==null&&h.f&be&&(E===null?E=[h,[e]]:E[1].push(e))}let k=null,A=0,O=null;function An(e){O=e}let St=1,se=0,U=!1;function Ct(){return++St}function _e(e){var f;var t=e.f;if((t&M)!==0)return!0;if((t&K)!==0){var n=e.deps,r=(t&C)!==0;if(n!==null){var l,i,c=(t&ae)!==0,v=r&&p!==null&&!U,o=n.length;if(c||v){var u=e,s=u.parent;for(l=0;l<o;l++)i=n[l],(c||!((f=i==null?void 0:i.reactions)!=null&&f.includes(u)))&&(i.reactions??(i.reactions=[])).push(u);c&&(u.f^=ae),v&&s!==null&&(s.f&C)===0&&(u.f^=C)}for(l=0;l<o;l++)if(i=n[l],_e(i)&&st(i),i.wv>e.wv)return!0}(!r||p!==null&&!U)&&D(e,I)}return!1}function Nt(e,t,n=!0){var r=e.reactions;if(r!==null)for(var l=0;l<r.length;l++){var i=r[l];E!=null&&E[1].includes(e)&&E[0]===h||((i.f&F)!==0?Nt(i,t,!1):t===i&&(n?D(i,M):(i.f&I)!==0&&D(i,K),Re(i)))}}function Ot(e){var _;var t=k,n=A,r=O,l=h,i=U,c=E,v=N,o=P,u=e.f;k=null,A=0,O=null,U=(u&C)!==0&&(P||!H||h===null),h=(u&(j|z))===0?e:null,E=null,Be(e.ctx),P=!1,se++,e.f|=be,e.ac!==null&&(e.ac.abort(et),e.ac=null);try{var s=(0,e.fn)(),f=e.deps;if(k!==null){var a;if(fe(e,A),f!==null&&A>0)for(f.length=A+k.length,a=0;a<k.length;a++)f[A+a]=k[a];else e.deps=f=k;if(!U||(u&F)!==0&&e.reactions!==null)for(a=A;a<f.length;a++)((_=f[a]).reactions??(_.reactions=[])).push(e)}else f!==null&&A<f.length&&(fe(e,A),f.length=A);if(it()&&O!==null&&!P&&f!==null&&(e.f&(F|K|M))===0)for(a=0;a<O.length;a++)Nt(O[a],e);return l!==null&&l!==e&&(se++,O!==null&&(r===null?r=O:r.push(...O))),s}catch(d){Tn(d)}finally{k=t,A=n,O=r,h=l,U=i,E=c,Be(v),P=o,e.f^=be}}function Sn(e,t){let n=t.reactions;if(n!==null){var r=Kt.call(n,e);if(r!==-1){var l=n.length-1;l===0?n=t.reactions=null:(n[r]=n[l],n.pop())}}n===null&&(t.f&F)!==0&&(k===null||!k.includes(t))&&(D(t,K),(t.f&(C|ae))===0&&(t.f^=ae),ot(t),fe(t,0))}function fe(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Sn(e,n[r])}function Pe(e){var t=e.f;if((t&Ce)===0){D(e,I);var n=p,r=H;p=e,H=!0;try{(t&Ae)!==0?bn(e):yt(e),mt(e);var l=Ot(e);e.teardown=typeof l=="function"?l:null,e.wv=St;var i;Le&&on&&(e.f&M)!==0&&e.deps}finally{H=r,p=n}}}function Cn(){try{nn()}catch(e){if(ue!==null)At(e,ue);else throw e}}function Nn(){var e=H;try{var t=0;for(H=!0;ie.length>0;){t++>1e3&&Cn();var n=ie,r=n.length;ie=[];for(var l=0;l<r;l++){var i=Fn(n[l]);On(i)}te.clear()}}finally{ke=!1,H=e,ue=null}}function On(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];(r.f&(Ce|L))===0&&_e(r)&&(Pe(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Et(r):r.fn=null))}}function Re(e){ke||(ke=!0,queueMicrotask(Nn));for(var t=ue=e;t.parent!==null;){t=t.parent;var n=t.f;if((n&(z|j))!==0){if((n&I)===0)return;t.f^=I}}ie.push(t)}function Fn(e){for(var t=[],n=e;n!==null;){var r=n.f,l=(r&(j|z))!==0,i=l&&(r&I)!==0;if(!i&&(r&L)===0){(r&Xe)!==0?t.push(n):l?n.f^=I:_e(n)&&Pe(n);var c=n.first;if(c!==null){n=c;continue}}var v=n.parent;for(n=n.next;n===null&&v!==null;)n=v.next,v=v.parent}return t}function w(e){var t=e.f,n=(t&F)!==0;if(h!==null&&!P){if(!(E!=null&&E[1].includes(e))||E[0]!==h){var r=h.deps;e.rv<se&&(e.rv=se,k===null&&r!==null&&r[A]===e?A++:k===null?k=[e]:(!U||!k.includes(e))&&k.push(e))}}else if(n&&e.deps===null&&e.effects===null){var l=e,i=l.parent;i!==null&&(i.f&C)===0&&(l.f^=C)}return n&&(l=e,_e(l)&&st(l)),Z&&te.has(e)?te.get(e):e.v}function Ft(e){var t=P;try{return P=!0,e()}finally{P=t}}const In=-7169;function D(e,t){e.f=e.f&In|t}let He=!1;function Pn(){He||(He=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function Rn(e){var t=h,n=p;R(null),$(null);try{return e()}finally{R(t),$(n)}}function It(e,t,n,r=n){e.addEventListener(t,()=>Rn(n));const l=e.__on_r;l?e.__on_r=()=>{l(),r(!0)}:e.__on_r=()=>r(!0),Pn()}const Pt=new Set,Te=new Set;function Dn(e){for(var t=0;t<e.length;t++)Pt.add(e[t]);for(var n of Te)n(e)}function le(e){var b;var t=this,n=t.ownerDocument,r=e.type,l=((b=e.composedPath)==null?void 0:b.call(e))||[],i=l[0]||e.target,c=0,v=e.__root;if(v){var o=l.indexOf(v);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var u=l.indexOf(t);if(u===-1)return;o<=u&&(c=o)}if(i=l[c]||e.target,i!==t){Yt(e,"currentTarget",{configurable:!0,get(){return i||n}});var s=h,f=p;R(null),$(null);try{for(var a,_=[];i!==null;){var d=i.assignedSlot||i.parentNode||i.host||null;try{var y=i["__"+r];if(y!=null&&(!i.disabled||e.target===i))if(ce(y)){var[T,...g]=y;T.apply(i,[e,...g])}else y.call(i,e)}catch(q){a?_.push(q):a=q}if(e.cancelBubble||d===t||d===null)break;i=d}if(a){for(let q of _)queueMicrotask(()=>{throw q});throw a}}finally{e.__root=t,delete e.currentTarget,R(s),$(f)}}}function qn(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ln(e,t){var n=p;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Rt(e,t){var n=(t&Ht)!==0,r,l=!e.startsWith("<!>");return()=>{r===void 0&&(r=qn(l?e:"<!>"+e),r=pt(r));var i=n||vt?document.importNode(r,!0):r.cloneNode(!0);return Ln(i,i),i}}function Ke(e,t){e!==null&&e.before(t)}const Mn=["touchstart","touchmove"];function jn(e){return Mn.includes(e)}function Ye(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function Bn(e,t){return Vn(e,t)}const Y=new Map;function Vn(e,{target:t,anchor:n,props:r={},events:l,context:i,intro:c=!0}){hn();var v=new Set,o=f=>{for(var a=0;a<f.length;a++){var _=f[a];if(!v.has(_)){v.add(_);var d=jn(_);t.addEventListener(_,le,{passive:d});var y=Y.get(_);y===void 0?(document.addEventListener(_,le,{passive:d}),Y.set(_,1)):Y.set(_,y+1)}}};o(xe(Pt)),Te.add(o);var u=void 0,s=yn(()=>{var f=n??t.appendChild(ht());return Fe(()=>{if(i){rt({});var a=N;a.c=i}l&&(r.$$events=l),u=e(f,r)||{},i&&lt()}),()=>{var d;for(var a of v){t.removeEventListener(a,le);var _=Y.get(a);--_===0?(document.removeEventListener(a,le),Y.delete(a)):Y.set(a,_)}Te.delete(o),f!==n&&((d=f.parentNode)==null||d.removeChild(f))}});return Un.set(u,s),u}let Un=new WeakMap;function Wn(e){N===null&&un(),mn(()=>{const t=Ft(e);if(typeof t=="function")return t})}function $n(e,t){return t}function Hn(e,t,n,r){for(var l=[],i=t.length,c=0;c<i;c++)Ie(t[c].e,l,!0);var v=i>0&&l.length===0&&n!==null;if(v){var o=n.parentNode;pn(o),o.append(n),r.clear(),V(e,t[0].prev,t[i-1].next)}kt(l,()=>{for(var u=0;u<i;u++){var s=t[u];v||(r.delete(s.k),V(e,s.prev,s.next)),W(s.e,!v)}})}function Kn(e,t,n,r,l,i=null){var c=e,v={flags:t,items:new Map,first:null};{var o=e;c=o.appendChild(ht())}var u=null,s=!1,f=fn(()=>{var a=n();return ce(a)?a:a==null?[]:xe(a)});wt(()=>{var a=w(f),_=a.length;s&&_===0||(s=_===0,Yn(a,v,c,l,t,r,n),i!==null&&(_===0?u?Tt(u):u=Fe(()=>i(c)):u!==null&&bt(u,()=>{u=null})),w(f))})}function Yn(e,t,n,r,l,i,c){var v=e.length,o=t.items,u=t.first,s=u,f,a=null,_=[],d=[],y,T,g,b;for(b=0;b<v;b+=1){if(y=e[b],T=i(y,b),g=o.get(T),g===void 0){var q=s?s.e.nodes_start:n;a=zn(q,t,a,a===null?t.first:a.next,y,T,b,r,l,c),o.set(T,a),_=[],d=[],s=a.next;continue}if(Gn(g,y,b),(g.e.f&L)!==0&&Tt(g.e),g!==s){if(f!==void 0&&f.has(g)){if(_.length<d.length){var ne=d[0],B;a=ne.prev;var qe=_[0],he=_[_.length-1];for(B=0;B<_.length;B+=1)Ge(_[B],ne,n);for(B=0;B<d.length;B+=1)f.delete(d[B]);V(t,qe.prev,he.next),V(t,a,qe),V(t,he,ne),s=ne,a=he,b-=1,_=[],d=[]}else f.delete(g),Ge(g,s,n),V(t,g.prev,g.next),V(t,g,a===null?t.first:a.next),V(t,a,g),a=g;continue}for(_=[],d=[];s!==null&&s.k!==T;)(s.e.f&L)===0&&(f??(f=new Set)).add(s),d.push(s),s=s.next;if(s===null)continue;g=s}_.push(g),a=g,s=g.next}if(s!==null||f!==void 0){for(var pe=f===void 0?[]:xe(f);s!==null;)(s.e.f&L)===0&&pe.push(s),s=s.next;var Lt=pe.length;if(Lt>0){var Mt=v===0?n:null;Hn(t,pe,Mt,o)}}p.first=t.first&&t.first.e,p.last=a&&a.e}function Gn(e,t,n,r){ft(e.v,t),e.i=n}function zn(e,t,n,r,l,i,c,v,o,u){var s=(o&Ut)!==0,f=(o&$t)===0,a=s?f?vn(l,!1,!1):oe(l):l,_=(o&Wt)===0?c:oe(c),d={i:_,v:a,k:i,a:null,e:null,prev:n,next:r};try{return d.e=Fe(()=>v(e,a,_,u),dn),d.e.prev=n&&n.e,d.e.next=r&&r.e,n===null?t.first=d:(n.next=d,n.e.next=d.e),r!==null&&(r.prev=d,r.e.prev=d.e),d}finally{}}function Ge(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,l=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var c=Ne(i);l.before(i),i=c}}function V(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function Dt(e,t,n){if(e.multiple){if(t==null)return;if(!ce(t))return _n();for(var r of e.options)r.selected=t.includes(ee(r));return}for(r of e.options){var l=ee(r);if(sn(l,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Xn(e){var t=new MutationObserver(()=>{Dt(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),gt(()=>{t.disconnect()})}function Zn(e,t,n=t){var r=!0;It(e,"change",l=>{var i=l?"[selected]":":checked",c;if(e.multiple)c=[].map.call(e.querySelectorAll(i),ee);else{var v=e.querySelector(i)??e.querySelector("option:not([disabled])");c=v&&ee(v)}n(c)}),Oe(()=>{var l=t();if(Dt(e,l,r),r&&l===void 0){var i=e.querySelector(":checked");i!==null&&(l=ee(i),n(l))}e.__value=l,r=!1}),Xn(e)}function ee(e){return"__value"in e?e.__value:e.value}function Jn(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Qn(e,t,n=t){It(e,"input",r=>{var l=r?e.defaultValue:e.value;if(l=ye(e)?Ee(l):l,n(l),l!==(l=t())){var i=e.selectionStart,c=e.selectionEnd;e.value=l??"",c!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(c,e.value.length))}}),Ft(t)==null&&e.value&&n(ye(e)?Ee(e.value):e.value),En(()=>{var r=t();ye(e)&&r===Ee(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function ye(e){var t=e.type;return t==="number"||t==="range"}function Ee(e){return e===""?null:+e}async function de(){return chrome.storage.sync.get("toggl_api_token").then(e=>e==null?void 0:e.toggl_api_token).catch(e=>null)}async function De(){return chrome.storage.sync.get("toggl_workspace_id").then(e=>e==null?void 0:e.toggl_workspace_id).catch(e=>null)}async function er(e){return chrome.storage.sync.set({toggl_api_token:e.token,toggl_workspace_id:e.workspace}).then(t=>ar(e.token)).then(t=>ur(e.token))}async function tr(e){return fetch("https://api.track.toggl.com/api/v9/me/logged",{method:"GET",headers:{Authorization:`Basic ${btoa(e+":api_token")}`}}).then(t=>{if(t.ok)return"SUCCESS";throw new Error("FAILED: not OK response")}).catch(t=>{throw console.log("Failed to fetch me/logged",t),new Error("FAILED: "+t.message)})}async function nr(){const e=await De();return(await chrome.storage.local.get("toggl_workspaces").then(n=>(n==null?void 0:n.toggl_workspaces)||[]).catch(n=>[])).map(n=>(n.selected=n.id===e,n))}async function rr(e){return chrome.storage.local.set({toggl_workspaces:e})}async function lr(e){const t=e??await de();return fetch("https://api.track.toggl.com/api/v9/me/workspaces",{method:"GET",headers:{Authorization:`Basic ${btoa(t+":api_token")}`}}).then(n=>n.json()).then(n=>{const r=n.map(l=>({id:l.id,name:l.name}));return rr(r),r}).catch(n=>{throw console.log("Failed to fetch me/workspaces",n),n})}function ir(e){return chrome.storage.local.set({toggl_clients:e})}async function ar(e){const t=e??await de();return fetch("https://api.track.toggl.com/api/v9/me/clients",{method:"GET",headers:{Authorization:`Basic ${btoa(t+":api_token")}`}}).then(n=>n.json()).then(n=>{const r=n.map(l=>({id:l.id,name:l.name}));return ir(r)}).catch(n=>{throw console.log("Failed to fetch me/clients",n),n})}async function or(e){return chrome.storage.local.set({toggl_projects:e})}async function ur(e){const t=e??await de();return fetch("https://api.track.toggl.com/api/v9/me/projects",{method:"GET",headers:{Authorization:`Basic ${btoa(t+":api_token")}`}}).then(n=>n.json()).then(n=>{const r=n.map(l=>({id:l.id,name:l.name,client_id:l.client_id}));return or(r)}).catch(n=>{throw console.log("Failed to fetch me/projects",n),n})}async function sr(e,t,n,r,l){m(t,"Testing...");try{m(t,await tr(w(n)),!0),m(r,await lr(w(n)),!0),m(l,await De(),!0)}catch(i){console.error("Error testing token:",i),m(t,i.message,!0)}}async function fr(e,t,n,r){try{await er({token:w(t),workspace:w(n)}),m(r,"Settings saved successfully")}catch(l){console.error("Error saving settings:",l),m(r,"Error saving settings: "+l.message)}}var cr=Rt("<option> </option>"),vr=Rt('<form><label for="toggl_token" class="svelte-1tqcnsd">Toggl Track API token</label> <input id="toggl_token" type="text" class="svelte-1tqcnsd"/> <label for="toggl_workspace" class="svelte-1tqcnsd">Toggl Workspace</label> <select id="toggl_workspace" class="svelte-1tqcnsd"></select> <p class="message"> </p> <button type="button">Refresh & Save</button></form>');function _r(e,t){rt(t,!0);let n=S(""),r=S(G([])),l=S(void 0),i=S(""),c=S(!0);Wn(async()=>{try{m(n,await de()||"",!0),m(r,await nr(),!0),m(l,await De(),!0),m(c,!1)}catch(_){console.error("Error loading settings:",_),m(i,"Error loading settings"),m(c,!1)}});var v=vr(),o=re(me(v),2);o.__change=[sr,i,n,r,l];var u=re(o,4);Kn(u,21,()=>w(r),$n,(_,d)=>{var y=cr(),T=me(y),g={};We(()=>{Jn(y,w(d).selected),Ye(T,w(d).name),g!==(g=w(d).id)&&(y.value=(y.__value=w(d).id)??"")}),Ke(_,y)});var s=re(u,2),f=me(s),a=re(s,2);a.__click=[fr,n,l,i],We(()=>{o.disabled=w(c),u.disabled=w(c)||w(r).length===0,Ye(f,w(i)),a.disabled=w(c)||!w(n)||!w(l)}),Qn(o,()=>w(n),_=>m(n,_)),Zn(u,()=>w(l),_=>m(l,_)),Ke(e,v),lt()}Dn(["change","click"]);const qt=document.getElementById("popup");if(!qt)throw new Error("Could not find popup container");Bn(_r,{target:qt});
